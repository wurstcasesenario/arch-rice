#!/bin/bash

WALLPAPER="$1"
LINK="$HOME/.config/wallpaper/current"

if [ -z "$WALLPAPER" ]; then
    echo "Usage: wallset-backend.sh image"
    exit 1
fi

ln -sf "$(realpath "$WALLPAPER")" "$LINK"

swww img "$LINK" --transition-type="wipe" --transition-step=1 --transition-fps="60"

pkill waybar
waybar &

pkill -USR1 hyprlock 2>/dev/null

notify-send "Theme Changed" "Applyed new Theme"
